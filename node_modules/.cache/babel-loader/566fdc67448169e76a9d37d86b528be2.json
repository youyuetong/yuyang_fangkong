{"remainingRequest":"/Volumes/work/Graduation_project/yab/node_modules/babel-loader/lib/index.js!/Volumes/work/Graduation_project/yab/src/utils/api.js","dependencies":[{"path":"/Volumes/work/Graduation_project/yab/src/utils/api.js","mtime":1613767337922},{"path":"/Volumes/work/Graduation_project/yab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/work/Graduation_project/yab/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOyAvLyDor7fmsYLmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5aaC5p6c5a2Y5ZyodG9rZW7vvIzor7fmsYLmkLrluKbov5nkuKp0b2tlbgogIGlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TdHInKSkgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlblN0cicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwp9KTsgLy8gcmVzcG9uc2Xlk43lupTmi6bmiKrlmagKCmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICAvL+S4muWKoemAu+i+kemUmeivrwogIGlmIChzdWNjZXNzLnN0YXR1cyAmJiBzdWNjZXNzLnN0YXR1cyA9PSAyMDApIHsKICAgIGlmIChzdWNjZXNzLmRhdGEuY29kZSA9PSA1MDAgfHwgc3VjY2Vzcy5kYXRhLmNvZGUgPT0gNDAxIHx8IHN1Y2Nlc3MuZGF0YS5jb2RlID09IDQwMykgewogICAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgICBtZXNzYWdlOiBzdWNjZXNzLmRhdGEubWVzc2FnZQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChzdWNjZXNzLmRhdGEuc3VjY2VzcykgewogICAgICBNZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tZXNzYWdlCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNTA0IHx8IGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNDA0KSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+acjeWKoeWZqOiiq+WQg+S6hvCfmLMnCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+adg+mZkOS4jei2s++8jOivt+iBlOezu+euoeeQhuWRmO+8gScKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuY29kZSA9PSA0MDEpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAn5bCa5pyq55m75b2V77yM6K+355m75b2V77yBJwogICAgfSk7IC8vIOi3s+i9rOWIsOeZu+W9lQoKICAgIHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgfSBlbHNlIHsKICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgbWVzc2FnZTogZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgbWVzc2FnZTogJ+acquefpemUmeivr++8gScKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm47Cn0pOwp2YXIgYmFzZSA9ICcnOyAvLyDkvKDpgIFqc29u5qC85byP55qEcG9zdOivt+axggoKZXhwb3J0IHZhciBwb3N0UmVxdWVzdCA9IGZ1bmN0aW9uIHBvc3RSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgdXJsOiAnJHtiYXNlfSR7dXJsfScsCiAgICBkYXRhOiBwYXJhbXMKICB9KTsKfTsgLy/kvKDpgIFqc29u5qC85byP55qEcHV06K+35rGCCgpleHBvcnQgdmFyIHB1dFJlcXVlc3QgPSBmdW5jdGlvbiBwdXRSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3B1dCcsCiAgICB1cmw6ICcke2Jhc2V9JHt1cmx9JywKICAgIGRhdGE6IHBhcmFtcwogIH0pOwp9OyAvL+S8oOmAgWpzb27moLzlvI/nmoRnZXTor7fmsYIKCmV4cG9ydCB2YXIgZ2V0UmVxdWVzdCA9IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZ2V0JywKICAgIHVybDogJyR7YmFzZX0ke3VybH0nLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07IC8v5Lyg6YCBanNvbuagvOW8j+eahGRlbGV0Zeivt+axggoKZXhwb3J0IHZhciBkZWxldGVSZXF1ZXN0ID0gZnVuY3Rpb24gZGVsZXRlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgdXJsOiAnJHtiYXNlfSR7dXJsfScsCiAgICBkYXRhOiBwYXJhbXMKICB9KTsKfTs="},{"version":3,"sources":["/Volumes/work/Graduation_project/yab/src/utils/api.js"],"names":["axios","Message","router","interceptors","request","use","config","window","sessionStorage","getItem","headers","error","console","log","response","success","status","data","code","message","replace","base","postRequest","url","params","method","putRequest","getRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {Message} from \"element-ui\";\nimport router from '../router'\n\n// 请求拦截器\naxios.interceptors.request.use(config=>{\n    // 如果存在token，请求携带这个token\n   if(window.sessionStorage.getItem('tokenStr')){\n       config.headers['Authorization'] = window.sessionStorage.getItem('tokenStr');\n   }\n    return config;\n},error => {\n    console.log(error);\n})\n\n\n\n// response响应拦截器\naxios.interceptors.response.use(success=>{\n    //业务逻辑错误\n    if(success.status && success.status == 200){\n        if (success.data.code == 500 || success.data.code == 401 || success.data.code == 403){\n            Message.error({message:success.data.message});\n            return;\n        }\n        if(success.data.success){\n            Message.success({message:success.data.message});\n        }\n    }\n    return success.data;\n},error =>{\n    if(error.response.code == 504 || error.response.code == 404){\n        Message.error({message:'服务器被吃了😳'});\n    }else if(error.response.code == 403){\n        Message.error({message:'权限不足，请联系管理员！'});\n    }else if(error.response.code == 401){\n        Message.error({message:'尚未登录，请登录！'});\n        // 跳转到登录\n        router.replace('/');\n    }else {\n        if (error.response.data.message){\n            Message.error({message:error.response.data.message});\n        }else {\n            Message.error({message:'未知错误！'});\n        }\n    }\n   return;\n});\n\nlet base = '';\n\n// 传送json格式的post请求\nexport const postRequest = (url,params)=>{\n    return  axios({\n        method: 'post',\n        url: '${base}${url}',\n        data: params\n    })\n}\n\n//传送json格式的put请求\nexport const putRequest = (url,params)=>{\n    return  axios({\n        method: 'put',\n        url: '${base}${url}',\n        data: params\n    })\n}\n//传送json格式的get请求\nexport const getRequest = (url,params)=>{\n    return  axios({\n        method: 'get',\n        url: '${base}${url}',\n        data: params\n    })\n}\n//传送json格式的delete请求\nexport const deleteRequest = (url,params)=>{\n    return  axios({\n        method: 'delete',\n        url: '${base}${url}',\n        data: params\n    })\n}\n"]}]}
{"remainingRequest":"/Volumes/work/Graduation_project/yab/node_modules/babel-loader/lib/index.js!/Volumes/work/Graduation_project/yab/src/utils/api.js","dependencies":[{"path":"/Volumes/work/Graduation_project/yab/src/utils/api.js","mtime":1614122509887},{"path":"/Volumes/work/Graduation_project/yab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/work/Graduation_project/yab/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8v5Yib5bu65LiA5Liq5a6e5L6LCgp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjU1NTYvJywKICB0aW1lb3V0OiAxMDAwLAogIC8vIGhlYWRlcnM6IHsnWC1DdXN0b20tSGVhZGVyJzogJ2Zvb2Jhcid9CiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICdyZXNwb25zZVR5cGUnOiAnYmxvYicKICB9Cn0pOyAvL+a3u+WKoOivt+axguaLpuaIquWZqAovLyBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZyl7Ci8vICAgICAvLyDlnKjlj5HpgIHor7fmsYLkuYvliY3lgZrkupvku4DkuYgKLy8gICAgIGNvbnNvbGUubG9nKCJjb25maWciLGNvbmZpZykKLy8gICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb249J0JlYXJlciAnICsgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIik/c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKToiIik7Ci8vICAgICByZXR1cm4gY29uZmlnCi8vIH0sZnVuY3Rpb24gKGVycm9yKXsKLy8gICAgIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAovLyAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKLy8gfSkKLy8g5re75Yqg5ZON5bqU5oum5oiq5ZmoCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIOWvueWTjeW6lOaVsOaNruWBmueCueS7gOS5iAogIGNvbnNvbGUubG9nKCdyZXNwb25zZTonLCByZXNwb25zZSk7IC8v5aaC5p6c5YaZcmVzcG9uc2UuZGF0YSDmmK/lj6rov5Tlm55kYXRh77yM5oqK5YW25LuW55qE5oum5oiq5o6JCiAgLy8gcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogIHJldHVybiByZXNwb25zZS5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCnZhciBnZXQgPSBmdW5jdGlvbiBnZXQodXJsKSB7CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBpbnN0YW5jZS5nZXQodXJsLCB7CiAgICAgIHBhcmFtczogZGF0YQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZWplY3QoZXJyb3IpOwogICAgfSk7CiAgfSk7Cn07Cgp2YXIgcG9zdCA9IGZ1bmN0aW9uIHBvc3QoX3JlZikgewogIHZhciB1cmwgPSBfcmVmLnVybCwKICAgICAgX3JlZiRkYXRhID0gX3JlZi5kYXRhLAogICAgICBkYXRhID0gX3JlZiRkYXRhID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkZGF0YTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgaW5zdGFuY2UucG9zdCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9OwoKZXhwb3J0IHsgZ2V0LCBwb3N0IH07"},{"version":3,"sources":["/Volumes/work/Graduation_project/yab/src/utils/api.js"],"names":["axios","instance","create","baseURL","timeout","headers","interceptors","response","use","console","log","data","error","Promise","reject","get","url","resolve","params","then","res","catch","post"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAC,wBADkB;AAE1BC,EAAAA,OAAO,EAAE,IAFiB;AAG1B;AACAC,EAAAA,OAAO,EAAE;AAAC,oBAAe,kBAAhB;AAAmC,oBAAgB;AAAnD;AAJiB,CAAb,CAAjB,C,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAJ,QAAQ,CAACK,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CAAmC,UAAUD,QAAV,EAAoB;AACnD;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBH,QAAxB,EAFmD,CAGnD;AACA;;AACA,SAAOA,QAAQ,CAACI,IAAhB;AACH,CAND,EAMG,UAAUC,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CATD;;AAWA,IAAMG,GAAG,GAAG,SAANA,GAAM,CAACC,GAAD,EAAiB;AAAA,MAAXL,IAAW,uEAAN,EAAM;AACzB,SAAO,IAAIE,OAAJ,CAAY,UAACI,OAAD,EAAUH,MAAV,EAAqB;AACpCb,IAAAA,QAAQ,CAACc,GAAT,CAAaC,GAAb,EAAiB;AAACE,MAAAA,MAAM,EAACP;AAAR,KAAjB,EAAiCQ,IAAjC,CAAsC,UAAAC,GAAG,EAAE;AACvCH,MAAAA,OAAO,CAACG,GAAD,CAAP;AACH,KAFD,EAEGC,KAFH,CAES,UAAAT,KAAK,EAAE;AACZE,MAAAA,MAAM,CAACF,KAAD,CAAN;AACH,KAJD;AAKH,GANM,CAAP;AAQH,CATD;;AAUA,IAAMU,IAAI,GAAG,SAAPA,IAAO,OAAmB;AAAA,MAAjBN,GAAiB,QAAjBA,GAAiB;AAAA,uBAAZL,IAAY;AAAA,MAAZA,IAAY,0BAAP,EAAO;AAC5B,SAAO,IAAIE,OAAJ,CAAY,UAACI,OAAD,EAAUH,MAAV,EAAqB;AACpCb,IAAAA,QAAQ,CAACqB,IAAT,CAAcN,GAAd,EAAkBL,IAAlB,EAAwBQ,IAAxB,CAA6B,UAAAC,GAAG,EAAE;AAC9BH,MAAAA,OAAO,CAACG,GAAD,CAAP;AACH,KAFD,EAEGC,KAFH,CAES,UAAAT,KAAK,EAAE;AACZE,MAAAA,MAAM,CAACF,KAAD,CAAN;AACH,KAJD;AAKH,GANM,CAAP;AAQH,CATD;;AAUA,SAAQG,GAAR,EAAYO,IAAZ","sourcesContent":["import axios from 'axios'\r\n//创建一个实例\r\nconst instance = axios.create({\r\n    baseURL:'http://localhost:5556/',\r\n    timeout: 1000,\r\n    // headers: {'X-Custom-Header': 'foobar'}\r\n    headers: {'Content-Type':'application/json','responseType': 'blob'}\r\n});\r\n//添加请求拦截器\r\n// instance.interceptors.request.use(function (config){\r\n//     // 在发送请求之前做些什么\r\n//     console.log(\"config\",config)\r\n//     config.headers.Authorization='Bearer ' + (sessionStorage.getItem(\"token\")?sessionStorage.getItem(\"token\"):\"\");\r\n//     return config\r\n// },function (error){\r\n//     // 对请求错误做些什么\r\n//     return Promise.reject(error);\r\n// })\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(function (response) {\r\n    // 对响应数据做点什么\r\n    console.log('response:',response)\r\n    //如果写response.data 是只返回data，把其他的拦截掉\r\n    // return response.data;\r\n    return response.data\r\n}, function (error) {\r\n    // 对响应错误做点什么\r\n    return Promise.reject(error);\r\n});\r\n\r\nconst get = (url, data={}) =>{\r\n    return new Promise((resolve, reject) => {\r\n        instance.get(url,{params:data }).then(res=>{\r\n            resolve(res)\r\n        }).catch(error=>{\r\n            reject(error)\r\n        })\r\n    })\r\n\r\n}\r\nconst post = ({url, data={}}) =>{\r\n    return new Promise((resolve, reject) => {\r\n        instance.post(url,data).then(res=>{\r\n            resolve(res)\r\n        }).catch(error=>{\r\n            reject(error)\r\n        })\r\n    })\r\n\r\n}\r\nexport {get,post}"]}]}